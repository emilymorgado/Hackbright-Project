{% extends 'base.html' %} 

{% block head %}

  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <link rel="stylesheet" type="text/css" href="static/map.css">

  <script jquery.timepicker.js></script>
  <script jquery.timepicker.css></script>

  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB9EdKesWy05EUiKhvZCLt-KKCy7GybmTo&signed_in=true&callback=initMap"
      async defer></script>
  <script>
   var map;
    function initMap() {

        var myLatLng = {lat: -9.679445, lng: -48.804154};

        var map = new google.maps.Map(document.getElementById('map'), {
        center: myLatLng,
        zoom: 12
      });

        var marker = new google.maps.Marker({
            position: myLatLng,
            map: map,
            title: 'Classroom Location'
        });
    }
    </script>
   <!--      /* meta and style relate to the map*/ -->
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">

  <style type="text/css">
  html, body { height: 100%; margin: 0; padding: 0; }


  </style>



{% endblock %}


{% block body %}

  <h3>Create a Class</h3>

  <form method="POST" action="/teacherclass" id="create-class">
    
    <!-- Language -->
    <div class="form-group">
      Language: 
      <select id="languagetype" name="languagetype" class="form-control">
          <option value="Portuguese">Portuguese</option>
          <option value="Spanish">Spanish</option>
          <option value="Mandarin">Mandarin</option>
          <option value="Korean">Korean</option>
          <option value="French">French</option>
      </select>


      <!-- Level -->
      <div class="form-group">
        Level: 
        <select name="leveltype" class="form-control">
            <option value=1>Beginner</option>
            <option value=2>Pre-Intermediate</option>
            <option value=3>Intermediate</option>
            <option value=4>Upper Intermediate</option>
            <option value=5>Advanced</option>
            <option value=6>Native Speaker</option>
            <option value=7>Mixed Levels</option>
      </div>


      <!-- Min num of Students -->
      <div class="form-group">
        Minimum number of students for class to run: 
          <input type="text" name="min" class="min-students">
      </div>


      <!-- Max num of Students -->
      <div class="form-group">
        Maximum number of students that can join: 
          <input type="text" name="max" class="max-students">
      </div>


      <!-- Days -->
      <div class="form-group" id="days">
          Days:
        <input type="checkbox" name="days" value="Monday">Monday
        <input type="checkbox" name="days" value="Tuesday">Tuesday
        <input type="checkbox" name="days" value="Wednesday">Wednesday
        <input type="checkbox" name="days" value="Thursday">Thursday
        <input type="checkbox" name="days" value="Friday">Friday
        <input type="checkbox" name="days" value="Saturday">Saturday
        <input type="checkbox" name="days" value="Sunday">Sunday
      </div>


      <!-- Start Date -->
      <p>Start Date: <input type="date" id="datepicker" name="start"></p>


      <!-- End Date -->
      <p>End Date: <input type="date" id="datepicker" name="end"></p>


      <!-- Start Time  -->
      <p>Class starts at: <input type="time" class="timepicker" name="start-time" id=
      "start-time"></p>

      <!-- End Time  -->
      <p>Class ends at: <input type="time" class="timepicker" name="end-time" id=
      "end-time"></p>


      <!-- Price Picker -->
      <div class="form-group">
          <label class="sr-only" name="pricetype">Amount (in dollars)</label>
          <div class="input-group">
            <div class="input-group-addon">$</div>
            <input type="text" class="form-control" name="pricetype" placeholder="Amount">
            <div class="input-group-addon">.00</div>
            <div name="per-time">
              <select name="per-time" class="form-control">
                  <option value="hour">/hour</option>
                  <option value="week">/week</option>
                  <option value="month">/month</option>
                  <option value="year">/year</option>
              </select>
          </div>
        </div>


        <!-- Map -->
        <!-- Left off here -->


         <div onload="initialize()"></div>
         <div id="map" style="width: 320px; height: 480px;"></div>
          <div>
            <input id="address" type="textbox" value="San Francisco, CA">
            <input type="button" value="Encode" onclick="codeAddress()">
          </div>

      
          <!-- Submission Button -->
    <div>
      <button type="submit" class="btn btn-primary" name="createit" id="createit" value="Create it!">Create it!</button>
    </div>
   </form>


   <script>

    $(function() {
     $( "#datepicker" ).datepicker();
   }); 

    $("input:checkbox[name=days]:checked").each(function(){
        yourArray.push($(this).val());
    });


// Address Selection and Map Rendering
   // var map;
   //  function initMap() {

   //      var myLatLng = {lat: -9.679445, lng: -48.804154};

   //      var map = new google.maps.Map(document.getElementById('map'), {
   //      center: myLatLng,
   //      zoom: 12
   //    });

   //      var marker = new google.maps.Marker({
   //          position: myLatLng,
   //          map: map,
   //          title: 'Classroom Location'
   //      });
   //  }

  // var geocoder;

  //  function initialize() {
  //    geocoder = new google.maps.Geocoder();
  //    // var latlng = new google.maps.LatLng(37.777937, -122.4409755);
  //    var myLatLng = {lat: -9.679445, lng: -48.804154};
  //    var mapOptions = {
  //      zoom: 14,
  //      center: latlng
  //    }
  //    map = new google.maps.Map(document.getElementById("map"), mapOptions);
  //  }

   // function codeAddress() {
   //   var address = document.getElementById("address").value;
   //   geocoder.geocode( { 'address': address}, function(results, status) {
   //     if (status == google.maps.GeocoderStatus.OK) {
   //       map.setCenter(results[0].geometry.location);
   //       var marker = new google.maps.Marker({
   //           map: map,
   //           position: results[0].geometry.location
   //       });
   //     } else {
   //       alert("Geocode was not successful for the following reason: " + status);
   //     }
   //   });
   // }
// initialize();








    // Form Submission
   // Nothing will run until the DOM is ready
   $(document).ready(function() {
  

    // When the button is clicked, the form is serialized and posted
    $('#createit').click(function(event)){   
      $.post("/teacherclass", $("#create-class").serialize(),
    }

   }

   </script>

 
  {% endblock %}

